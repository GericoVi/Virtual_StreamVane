# Virtual_StreamVane
 Python tool for creating arbitrary swirling inflow boundary conditions for use with a CFD framework. Created as part of a Master's dissertation for MEng Aerospace Engineering.
 
 Inspired by **'A New Method for Generating Swirl Inlet Distortion for Jet Engine Research'** paper by K. Hoopes (2013). This is an attempt to develop the same capability for aiding work in the numerical (CFD) domain.

## Basic Usage
### Command Line Control
`python /swirlgenerator/Main.py <config file>` performs the basic functionality of the tool. Generates a boundary condition according to the options specified in the config file. A template config file has been included in the repository which shows all available functionality/configurations.
 
`python /swirlgenerator/Main.py -help` shows the command line options available for performing extra functionality. 


### Calling from user scripts
The generic workflow and method for generating boundary conditions using swirlgenerator functions is illustrated within **Main.py**

However a more reduced workflow is outlined here:
```
# Initialise the flow field by calling with nodes as a complex array of inlet node coordinates.
flowfield = core.FlowField(nodes)

# Initialise the domain configuration with information about each vortex to be defined within the domain.
vortexDefs = core.Vortices(model, centres, strengths, core_radii)

# Calculate the primitive flow field variables with.
flowfield.computDomain(vortexDefs, axialVel)

# Write the boundary condition.
writeBC.writeSU2(flowfield, filename)
```
This method removes the need for a config file and reduces the number of module imports needed. Making it easier for automation or to integrate with the user's existing python workflows.

## Method of generation
The swirling inlet profiles are generated by placing multiple discrete vortices into the domain and modelling how they would interact.

A sort of image recognition capability for receiving contour plots of flow field variables and generating an approximation of the underlying velocity field to be outputted as a boundary condition is planned.


## Limitations
- Only su2 format for the boundary condition is currently supported by the *writeBC* modules
- Only su2 mesh format can be read directly by the *pre* module
- Only supports incompressible boundary conditions


## Dependencies
- Numpy
- Matplotlib
- Scipy - only for interpolation of irregularly spaced data into a regular grid in plotting functions within the *post* module
- gmsh - only for creating a test mesh with the *maketestdomain* module
